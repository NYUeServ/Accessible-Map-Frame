function keyNavInit(e,r,a,o,t){let n;n=e.children[0].children[0].children[0],google.maps.markerNavigation={},google.maps.markerNavigation.markers=a,google.maps.markerNavigation.currentMarker=-1,google.maps.markerNavigation.markerIcons=[],google.maps.markerNavigation.updateMarkerCount=updateMarkerCount,__addTabNavToMapMarkers(r,n),o&&(o.selected&&(google.maps.markerNavigation.selectedMarkerIcon=o.selected),o.deselected&&(google.maps.markerNavigation.deselectedMarkerIcon=o.deselected)),t&&(google.maps.markerNavigation.markerIcons=__getMarkerIconsFromMarkers(a)),n.addEventListener("focusout",e=>{__deselectMarker(google.maps.markerNavigation.previousMarkerListener,google.maps.markerNavigation.markers[google.maps.markerNavigation.currentMarker]),google.maps.markerNavigation.currentMarker=-1})}function __addTabNavToMapMarkers(e,r){const a=google.maps.markerNavigation.markers||[];google.maps.event.addDomListener(document,"keydown",o=>{let t;if("Tab"===o.key&&document.activeElement!==r)t=!o.shiftKey,google.maps.markerNavigation.currentMarker=t?-1:a.length;else if(document.activeElement===r&&"Tab"===o.key){const t=o.shiftKey;google.maps.markerNavigation.previousMarkerListener=__iterateMarkers(google.maps.markerNavigation.previousMarkerListener,e,r,t,a),google.maps.markerNavigation.currentMarker>=a.length&&!t?google.maps.markerNavigation.currentMarker=a.length:google.maps.markerNavigation.currentMarker<=-1&&t?google.maps.markerNavigation.currentMarker=-1:o.preventDefault()}})}function __iterateMarkers(e,r,a,o){const t=google.maps.markerNavigation.markers||[];t.length||(google.maps.markerNavigation.currentMarker=0);const n=o?-1:1,g=__selectMarker(r,a,t[google.maps.markerNavigation.currentMarker+n]);return __deselectMarker(e,t[google.maps.markerNavigation.currentMarker]),google.maps.markerNavigation.currentMarker+=n,g}function __deselectMarker(e,r){if(!r)return;const a=google.maps.markerNavigation.markerIcons.length?google.maps.markerNavigation.markerIcons[google.maps.markerNavigation.currentMarker]:google.maps.markerNavigation.deselectedMarkerIcon;r.setIcon(a),e&&e.remove()}function __selectMarker(e,r,a){if(a)return a.setIcon(google.maps.markerNavigation.selectedMarkerIcon),e.panTo(a.getPosition()),__addClickMarkerViaEnterKey(r,a)}function __addClickMarkerViaEnterKey(e,r){if(r)return google.maps.event.addDomListener(document,"keydown",a=>{document.activeElement===e&&"Enter"===a.key&&google.maps.event.trigger(r,"click")})}function __getMarkerIconsFromMarkers(e){if(e)return e.map(e=>{e.getIcon()})}const updateMarkerCount=e=>{google.maps.markerNavigation.markers=e,google.maps.markerNavigation.markerIcons=__getMarkerIconsFromMarkers(e),google.maps.markerNavigation.previousMarkerListener=void 0};